#![no_main]
wp1_zkvm::entrypoint!(main);

extern "C" {
    fn syscall_bls12381_fp_mul(p: *mut u32, q: *const u32);
}

pub fn main() {
    let a: [u8; 48] = [
        228, 106, 72, 120, 77, 201, 20, 66, 102, 164, 169, 130, 27, 165, 141, 9, 68, 102, 5, 170,
        209, 70, 36, 126, 113, 18, 24, 91, 5, 80, 169, 75, 130, 40, 70, 1, 62, 71, 120, 57, 209,
        104, 210, 238, 188, 198, 117, 7,
    ];
    let b: [u8; 48] = [
        96, 73, 110, 78, 155, 199, 140, 30, 164, 39, 135, 40, 82, 215, 126, 255, 139, 203, 67, 42,
        199, 165, 207, 109, 234, 238, 119, 155, 55, 29, 171, 109, 95, 128, 76, 12, 116, 155, 167,
        88, 28, 196, 19, 0, 90, 60, 100, 17,
    ];
    let mul: [u8; 48] = [
        242, 132, 33, 240, 133, 223, 187, 94, 140, 233, 229, 187, 34, 25, 216, 39, 173, 96, 91, 13,
        164, 102, 197, 125, 11, 161, 177, 47, 63, 194, 223, 79, 170, 93, 63, 71, 105, 169, 103,
        107, 191, 212, 218, 120, 237, 97, 111, 2,
    ];

    let mut out = a.clone();
    unsafe {
        syscall_bls12381_fp_mul(out.as_mut_ptr() as *mut u32, b.as_ptr() as *const u32);
    }
    assert_eq!(out, mul);

    println!("done");
}
